!function(a){a.fn.extend({addLoading:function(b){var c,d,e,f,g,i,j;switch(0==a(this).children(".x-loading-wanghe").length&&a(this).prepend("<div class='x-loading-wanghe'><div class='loading-msgCrust'><img class='loading-msgIcon' /><span class='loading-msg'></span></div><div class='loading-mask'></div></div>"),c=a(this).children(".x-loading-wanghe").eq(0),d=c.children(".loading-mask"),e=c.children(".loading-msgCrust"),f=e.children(".loading-msgIcon"),g=e.children(".loading-msg"),a(this).outerWidth(),i=a(this).outerHeight(),j=a.extend({z:99,msg:"数据加载中...",iconType:1,iconUrl:"/gdczsam/core/js/layer/skin/default/",top:i/2-25,br:!0,maskColor:"#AAAAAA",fontSize:"15px",fontFamily:"微软雅黑",fontWeight:500,imgHeight:"30px",borderStyle:"solid",borderColor:"#6bc4f5",borderWidth:"1px",opacity:.5},b),j.iconType){case 0:j.iconUrl+="loading-0.gif";break;case 1:j.iconUrl+="loading-1.gif";break;case 2:j.iconUrl+="loading-2.gif";break;default:j.iconUrl+="loading-2.gif"}"static"==a(this).css("position")&&a(this).css("position","relative"),c.css({position:"absolute","z-index":j.z,display:"none",width:"100%",height:"100%","text-align":"center","vertical-align":"middle",top:"0px",left:"0px"}),d.css({position:"absolute",width:"100%",height:"100%","background-color":j.maskColor,top:"0px",left:"0px",opacity:j.opacity}),e.css({position:"relative","z-index":1,top:j.top,display:"inline-block","background-color":"#efefef",padding:"5px",color:"#000000","border-style":j.borderStyle,"border-width":j.borderWidth,"border-color":j.borderColor,"text-align":"center",opacity:.9}),f.attr("src",j.iconUrl),f.css({"margin-left":"3px","vertical-align":"middle",height:j.imgHeight}),j.br?f.css({display:"block",margin:"auto"}):f.css({display:"inline",margin:"3px"}),g.html(j.msg),g.css({position:"relative","margin-left":"5px","margin-right":"5px","vertical-align":"middle","text-align":"left","font-family":j.fontFamily,"font-size":j.fontSize,"font-weight":j.fontWeight}),c.fadeIn(200,j.successcallback)},addProgressLoading:function(b){var c,d,e,f;return this.addLoading(b),a(this).find(".x-loading-wanghe").eq(0).append("<div id='id_div_progress'></div>"),c=a(this).find("#id_div_progress"),d=a(this).outerHeight(),c.css({position:"relative",margin:"0 auto",width:"230px","z-index":1,top:d/2-15,display:"block",padding:"5px",color:"#000000","text-align":"center"}),e=new progress({width:220,height:20,bgColor:"#3E4E5E",proColor:"#009988",fontColor:"#FFFFFF",val:0,text:"当前进度为#*val*#%",showPresent:!0}),f=a("#id_div_progress")[0],f.appendChild(e.getBody()),e},removeLoading:function(){a(this).children(".x-loading-wanghe").fadeOut(200)},toggleLoading:function(b){var c=a(this).children(".x-loading-wanghe");c.is(":visible")?a(this).removeLoading():a(this).addLoading(b)},isLoading:function(){return a(this).children(".x-loading-wanghe").is(":visible")}})}(jQuery);